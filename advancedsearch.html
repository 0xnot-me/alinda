<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Property Search - Linda Olsson</title>
    <link rel="icon" href="http://www.lindaolsson.com/flogo.svg">
    <!-- Google Fonts - Instrument Serif -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Instrument+Serif:wght@400&display=swap" rel="stylesheet">
    
    <!-- Include IDX required stylesheets -->
    <link rel="stylesheet" type="text/css" href="https://mlspalmbeach.lindaolsson.com/graphical/frontend/css/idxstyles.php?t=574%7C142%7C487%7C266%7C575%7C5%7C518&a=13051&w=s&c%5Bs%5D=64" />
    <link rel="stylesheet" href="//d1qfrurkpai25r.cloudfront.net/graphical/css/jquery-ui-bootstrap.css" type="text/css" />
    <link rel="stylesheet" href="//d1qfrurkpai25r.cloudfront.net/graphical/css/select2.css" type="text/css" />
    <link rel="stylesheet" href="//d1qfrurkpai25r.cloudfront.net/graphical/css/mobileFirst.css">
    
    <style>
        /* Basic resets */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            background-color: #f5f5f5; /* Light gray background for contrast with white box */
            padding-top: 7rem; /* Push down content for navbar */
        }
        
        /* Specifically target the white rectangle at the top */
        body > div:first-child:empty,
        body > div:first-child > div:empty,
        body > div:empty:not(.navbar):not(.idx-container-wrapper),
        body > div[style*="height"] > div:empty {
            display: none !important;
            visibility: hidden !important;
            height: 0 !important;
            max-height: 0 !important;
            padding: 0 !important;
            margin: 0 !important;
            border: none !important;
            background: transparent !important;
        }
        
        /* Ensure no top margins on our main container */
        .idx-container-wrapper {
            margin-top: 40px !important;
        }
        
        /* Fix any IDX system spacing */
        #IDX-main, 
        #IDX-searchPageWrapper {
            margin-top: 0 !important;
            padding-top: 0 !important;
        }
        
        /* Hide IDX loading indicators and empty system divs */
        .IDX-loadingScreen,
        div[id^="IDX-"]:empty,
        div[class^="IDX-"]:empty {
            display: none !important;
            height: 0 !important;
        }
        
        /* Font variables */
        :root {
            --font-instrument: 'Instrument Serif', serif;
            --brand-green: #1b4e1f;
            --brand-green-light: #2c7432;
            --brand-green-dark: #184b1c;
        }
        
        /* Apply Instrument Serif to headings */
        h1, h2, h3, .instrument-serif {
            font-family: var(--font-instrument);
            font-weight: 400;
        }
        
        /* NAVBAR STYLES - Adjusted for horizontal layout with logo top centered */
        .navbar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 100;
            width: 100%;
            padding: 0.5rem 0;
            background-color: var(--brand-green);
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        /* Apply Instrument Serif to navbar elements */
        .nav-link, 
        .dropdown-link, 
        .mobile-link,
        .mobile-section-title {
            font-family: var(--font-instrument);
            font-weight: 400;
            letter-spacing: 0.02em;
        }
        
        /* Apply font to mobile menu section titles */
        .mobile-section-title {
            font-family: var(--font-instrument);
        }
        
        .logo-container {
            margin: 0.5rem 0;
            text-align: center;
        }
        
        .logo {
            height: 3.5rem;
        }
        
        .nav-menu {
            display: flex;
            width: 100%;
            justify-content: center;
            padding: 0.5rem 0;
        }
        
        .menu-items {
            display: flex;
            list-style: none;
            gap: 1.5rem;
        }
        
        .nav-item {
            position: relative;
        }
        
        .nav-link {
            color: white;
            text-decoration: none;
            font-size: 1.1rem;
            display: flex;
            align-items: center;
            gap: 0.25rem;
            transition: color 0.2s;
        }
        
        .nav-link:hover {
            color: rgba(255, 255, 255, 0.8);
        }
        
        .dropdown-icon {
            display: inline-block;
            width: 0;
            height: 0;
            margin-left: 0.25rem;
            border-left: 5px solid transparent;
            border-right: 5px solid transparent;
            border-top: 5px solid white;
            transition: transform 0.2s;
        }
        
        .nav-item:hover .dropdown-icon {
            transform: rotate(180deg);
        }
        
        .dropdown {
            position: absolute;
            top: 100%;
            left: 0;
            width: 300px;
            background-color: var(--brand-green);
            border: 1px solid var(--brand-green-dark);
            border-radius: 0.25rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            opacity: 0;
            visibility: hidden;
            transition: all 0.2s;
            z-index: 101;
        }
        
        .nav-item:hover .dropdown {
            opacity: 1;
            visibility: visible;
        }
        
        .dropdown-link {
            display: block;
            color: white;
            text-decoration: none;
            padding: 0.75rem 1rem;
            font-size: 1rem;
            transition: background-color 0.2s;
        }
        
        .dropdown-link:hover {
            background-color: var(--brand-green-dark);
        }
        
        /* Mobile menu button */
        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            color: white;
            cursor: pointer;
            padding: 0.5rem;
        }
        
        /* Mobile menu */
        .mobile-menu {
            display: none;
        }
        
        /* White box container for IDX content */
        .idx-container-wrapper {
            max-width: 750px; /* Reduced width further */
            margin: 40px auto 40px; /* Added top margin */
            background-color: white;
            border-radius: 16px; /* Increased roundedness */
            box-shadow: 0 5px 20px rgba(0,0,0,0.15); /* Enhanced shadow */
            padding: 30px 40px; /* Increased padding */
            overflow: hidden !important;
        }
        
        /* Add container for search form to ensure proper centering */
        #idx-form-container {
            width: 100% !important;
            max-width: 100% !important;
            margin: 0 auto;
            overflow: hidden !important;
            padding: 15px 0; /* Added vertical padding */
        }
        
        /* Fix the Advanced Search specific layout issues */
        /* Target the Advanced search page specifically */
        .IDX-page-advanced #IDX-searchPageWrapper {
            width: auto !important;
            max-width: 100% !important;
            margin: 0 auto !important;
            text-align: center !important; /* Center text alignment */
        }
        
        /* Remove the white rectangle at the top by targeting any empty divs */
        #IDX-main:empty,
        #IDX-searchPageWrapper:empty,
        div:empty:not(input):not(select):not(textarea) {
            display: none !important;
            visibility: hidden !important;
            height: 0 !important;
            margin: 0 !important;
            padding: 0 !important;
            border: none !important;
            background: transparent !important;
        }
        
        /* Target the exact structure causing the white rectangle */
        .idx-container-wrapper > #idx-form-container > #IDX-main {
            background-color: transparent !important;
            margin: 0 !important;
            padding: 0 !important;
            height: auto !important;
        }
        
        .idx-container-wrapper > #idx-form-container:before,
        .idx-container-wrapper > #idx-form-container:after,
        .idx-container-wrapper #IDX-main:before,
        .idx-container-wrapper #IDX-main:after {
            display: none !important;
            content: none !important;
        }
        
        /* Fix navbar width */
        .IDX-page-advanced #IDX-navbar {
            width: auto !important;
            margin: 0 auto !important;
            max-width: 100% !important;
            display: flex !important;
            justify-content: center !important; /* Center navbar */
        }
        
        /* Fix action buttons specific width issue */
        .IDX-page-advanced #IDX-action-buttons {
            width: auto !important;
            max-width: 100% !important;
            margin: 25px auto !important; /* Increased margin */
            padding: 0 !important;
            display: flex !important;
            justify-content: center !important; /* Center buttons */
        }
        
        /* Fix the row content containers */
        .IDX-page-advanced .IDX-row-content {
            width: auto !important;
            margin: 0 auto !important;
            max-width: 100% !important;
            justify-content: center !important; /* Center row content */
        }
        
        /* Make sure inline styles can't override containment */
        .IDX-page-advanced [style*="width"] {
            max-width: 100% !important;
        }
        
        /* Custom styles for IDX elements */
        #IDX-main {
            font-family: Arial, sans-serif !important;
            width: 100% !important;
            max-width: 100% !important;
            margin: 0 auto !important;
            padding: 0 !important;
            overflow: hidden !important;
            display: flex !important;
            flex-direction: column !important;
            align-items: center !important; /* Center all contents */
        }
        
        /* MODERNIZE THE FORM STYLES */
        /* Style control groups to allow them to sit side by side */
        .IDX-control-group {
            margin-bottom: 20px !important;
            flex: 0 0 48% !important; /* Almost half width to allow two columns */
            min-width: 200px !important;
        }
        
        /* Modernize form inputs */
        .IDX-control-group input,
        .IDX-control-group select,
        .IDX-control-group .select2-container,
        .IDX-qsSelectInput,
        .IDX-qsInput {
            width: 100% !important;
            max-width: 100% !important;
            box-sizing: border-box !important;
            padding: 10px 15px !important;
            font-size: 16px !important;
            border: 1px solid #ddd !important;
            border-radius: 6px !important;
            background-color: #f8f8f8 !important;
            transition: all 0.3s ease !important;
            box-shadow: inset 0 1px 3px rgba(0,0,0,0.1) !important;
        }
        
        /* Input focus states */
        .IDX-control-group input:focus,
        .IDX-control-group select:focus,
        .IDX-qsSelectInput:focus,
        .IDX-qsInput:focus {
            outline: none !important;
            border-color: var(--brand-green) !important;
            background-color: #fff !important;
            box-shadow: 0 0 0 3px rgba(27, 78, 31, 0.1) !important;
        }
        
        /* Style dropdowns consistently */
        .select2-container .select2-choice,
        .select2-container .select2-choices {
            padding: 8px 12px !important;
            border-radius: 6px !important;
            border: 1px solid #ddd !important;
            background-color: #f8f8f8 !important;
        }
        
        /* Style the form section headers */
        .IDX-formHeader,
        #IDX-searchPageWrapper h2,
        #IDX-searchPageWrapper h3,
        #IDX-searchPageWrapper h4,
        .IDX-displayPropertyTypeHeader,
        .IDX-pageHeader {
            font-family: var(--font-instrument) !important;
            font-weight: 400 !important;
            color: var(--brand-green) !important;
            margin: 20px 0 15px !important;
            padding-bottom: 8px !important;
            border-bottom: 1px solid #eee !important;
            text-align: left !important;
            width: 100% !important;
        }
        
        /* Style form labels */
        .IDX-control-label,
        .IDX-control-group label,
        .IDX-qsFieldWrap label {
            display: block !important;
            margin-bottom: 8px !important;
            color: #333 !important;
            font-weight: 600 !important;
            font-size: 14px !important;
            text-align: left !important;
        }
        
        /* Style the search buttons */
        #IDX-formSubmit,
        #IDX-formSubmit-bottom,
        .IDX-resultsActionSave,
        #IDX-saveSearch,
        .IDX-saveSearch,
        .IDX-newSearch,
        .IDX-modifySearch,
        .IDX-btn--map-toggle,
        a.IDX-resultsAction,
        .IDX-topAction a,
        .IDX-btn-primary {
            display: inline-block !important;
            background-color: var(--brand-green) !important;
            color: white !important;
            padding: 12px 24px !important;
            border-radius: 6px !important;
            text-decoration: none !important;
            font-weight: 600 !important;
            text-transform: uppercase !important;
            font-size: 15px !important;
            letter-spacing: 0.6px !important;
            transition: all 0.3s ease !important;
            border: none !important;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1) !important;
            cursor: pointer !important;
            margin: 5px !important;
        }
        
        #IDX-formSubmit:hover,
        #IDX-formSubmit-bottom:hover,
        .IDX-resultsActionSave:hover,
        #IDX-saveSearch:hover,
        .IDX-saveSearch:hover,
        .IDX-newSearch:hover,
        .IDX-modifySearch:hover,
        .IDX-btn--map-toggle:hover,
        a.IDX-resultsAction:hover,
        .IDX-topAction a:hover,
        .IDX-btn-primary:hover {
            background-color: var(--brand-green-light) !important;
            transform: translateY(-2px) !important;
            box-shadow: 0 4px 8px rgba(0,0,0,0.15) !important;
        }
        
        /* Style reset button */
        .IDX-btn-default, 
        #IDX-resetBtn,
        #IDX-resetBtn-bottom {
            background-color: #f2f2f2 !important;
            color: #333 !important;
            border: 1px solid #ddd !important;
            padding: 11px 24px !important;
            border-radius: 6px !important;
            transition: all 0.3s ease !important;
            cursor: pointer !important;
            text-transform: uppercase !important;
            font-weight: 600 !important;
            font-size: 15px !important;
            letter-spacing: 0.6px !important;
            margin: 5px !important;
        }
        
        .IDX-btn-default:hover, 
        #IDX-resetBtn:hover,
        #IDX-resetBtn-bottom:hover {
            background-color: #e6e6e6 !important;
            transform: translateY(-2px) !important;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1) !important;
        }
        
        /* Style checkboxes */
        .IDX-checkbox-wrap,
        .IDX-checkBoxList,
        .IDX-checkboxSubList {
            padding: 5px 0 !important;
            text-align: left !important;
        }
        
        .IDX-checkBoxWrapper {
            margin-right: 15px !important;
            margin-bottom: 8px !important;
            display: inline-block !important;
        }
        
        .IDX-checkboxLabel {
            margin-left: 5px !important;
            font-size: 14px !important;
            cursor: pointer !important;
            vertical-align: middle !important;
        }
        
        /* Style the navbar tabs */
        #IDX-navbar-collapse ul.IDX-navbar-nav {
            display: flex !important;
            gap: 5px !important;
            margin-bottom: 20px !important;
            border-bottom: 1px solid #eee !important;
            padding-bottom: 10px !important;
        }
        
        #IDX-navbar-collapse .IDX-navbar-nav li {
            list-style: none !important;
            margin: 0 !important;
        }
        
        #IDX-navbar-collapse .IDX-navbar-nav li a {
            display: block !important;
            padding: 8px 15px !important;
            background-color: #f5f5f5 !important;
            color: #333 !important;
            text-decoration: none !important;
            border-radius: 6px !important;
            transition: all 0.3s ease !important;
            font-weight: 500 !important;
            font-size: 14px !important;
        }
        
        #IDX-navbar-collapse .IDX-navbar-nav li a:hover {
            background-color: #e9e9e9 !important;
        }
        
        #IDX-navbar-collapse .IDX-navbar-nav li.IDX-active a {
            background-color: var(--brand-green) !important;
            color: white !important;
        }
        
        /* Remove unnecessary spacing at top */
        #IDX-main > br,
        #IDX-main > div:empty, 
        #IDX-main > div[style*="height:0"],
        #IDX-searchPageWrapper > br,
        #IDX-searchPageWrapper > div:empty,
        #IDX-searchPageWrapper > div[style*="height:0"] {
            display: none !important;
            height: 0 !important;
            margin: 0 !important;
            padding: 0 !important;
        }
        
        /* Footer */
        .footer {
            background-color: var(--brand-green);
            color: white;
            text-align: center;
            padding: 20px 0;
            margin-top: 20px;
        }
        
        .footer p {
            margin: 5px 0;
        }
        
        /* Make the form elements responsive */
        @media (max-width: 992px) {
            .menu-items {
                gap: 1rem;
            }
            
            .nav-link {
                font-size: 1rem;
            }
            
            .IDX-control-group {
                flex: 0 0 100% !important; /* Full width on smaller screens */
            }
        }
        
        @media (max-width: 768px) {
            .mobile-menu-btn {
                display: block;
                position: absolute;
                top: 1rem;
                right: 1rem;
            }
            
            .nav-menu {
                display: none;
            }
            
            .mobile-menu.open {
                display: block;
                position: fixed;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                background-color: var(--brand-green);
                z-index: 200;
                padding: 4rem 1rem 1rem;
                overflow-y: auto;
            }
            
            .mobile-menu-close {
                position: absolute;
                top: 1rem;
                right: 1rem;
                background: none;
                border: none;
                color: white;
                font-size: 1.5rem;
                cursor: pointer;
            }
            
            .mobile-menu-sections {
                display: flex;
                flex-direction: column;
                gap: 1.5rem;
            }
            
            .mobile-section {
                border-bottom: 1px solid var(--brand-green-dark);
                padding-bottom: 1rem;
            }
            
            .mobile-section-title {
                color: white;
                font-size: 1.25rem;
                margin-bottom: 0.5rem;
            }
            
            .mobile-links {
                display: flex;
                flex-direction: column;
                gap: 0.5rem;
                padding-left: 1rem;
            }
            
            .mobile-link {
                color: white;
                text-decoration: none;
                font-size: 1rem;
                padding: 0.5rem 0;
            }
            
            .IDX-navbar-nav {
                flex-direction: column;
            }
            
            .IDX-navbar-nav li {
                margin-right: 0;
                margin-bottom: 10px;
            }
            
            .idx-container-wrapper {
                padding: 20px 15px;
            }
        }
        
        /* CRITICAL: Explicit show rules for IDX elements that need to be visible */
        #IDX-searchPageWrapper,
        #IDX-navbar,
        #IDX-navbar-collapse, 
        #IDX-searchForm,
        #IDX-coreSearchFields,
        #IDX-search-property-content,
        #IDX-search-primary-content,
        #IDX-search-additional-content,
        #IDX-action-buttons,
        #IDX-advancedSearchFields {
            display: block !important;
            visibility: visible !important;
            height: auto !important;
            overflow: visible !important;
            opacity: 1 !important;
        }
        
        /* Hide elements that shouldn't be visible */
        #IDX-Subheader, 
        #IDX-Subheader-Page,
        iframe[src*="youtube.com"],
        #IDX-pageSettings, 
        #IDX-cczListRules, 
        #IDX-mlsList,
        #IDX-defaultPriceData,
        #IDX-modifySearchData,
        [id^="queryArray"],
        [class^="queryArray"],
        pre, code {
            display: none !important;
            visibility: hidden !important;
            height: 0 !important;
            width: 0 !important;
            opacity: 0 !important;
            padding: 0 !important;
            margin: 0 !important;
            overflow: hidden !important;
        }
    </style>
    
    <!-- Load required IDX scripts -->
    <script src="//d1qfrurkpai25r.cloudfront.net/graphical/javascript/jquery-1.7.min.js"></script>
    <script src="//d1qfrurkpai25r.cloudfront.net/graphical/javascript/jquery.ui.min.js"></script>
    <script src="//d1qfrurkpai25r.cloudfront.net/graphical/javascript/jquery.frontend.form.min.js"></script>
    <script src="//d1qfrurkpai25r.cloudfront.net/graphical/javascript/numeral.js"></script>
    <script type="text/javascript">
        var idx = jQuery.noConflict();
    </script>
    <script src="//d1qfrurkpai25r.cloudfront.net/graphical/javascript/bootstrap3-idx.js"></script>
    <script src="//d1qfrurkpai25r.cloudfront.net/graphical/javascript/mobileFirst.js"></script>
    <script src="//d1qfrurkpai25r.cloudfront.net/graphical/javascript/jquery.select2.min.js"></script>
    
    <script>
        // Mobile menu toggle
        function toggleMobileMenu() {
            const mobileMenu = document.getElementById('mobile-menu');
            if (mobileMenu.classList.contains('open')) {
                mobileMenu.classList.remove('open');
                document.body.style.overflow = '';
                    } else {
                mobileMenu.classList.add('open');
                document.body.style.overflow = 'hidden';
            }
        }
        
        // Target and repurpose the white box at the top
        document.addEventListener('DOMContentLoaded', function() {
            // First, find the white box at the top
            const whiteBox = document.querySelector('body > div:first-child');
            if (whiteBox) {
                console.log("Found the white box at the top");
                
                // Create search tabs to place inside the white box
                const searchTabs = document.createElement('div');
                searchTabs.className = 'search-tabs';
                searchTabs.innerHTML = `
                    <div class="search-tabs-container" style="display: flex; justify-content: center; gap: 10px; padding: 20px 0;">
                        <a href="#" class="search-tab active" style="background: #1b4e1f; color: white; padding: 10px 20px; border-radius: 5px; text-decoration: none; font-weight: bold;">Advanced Search</a>
                        <a href="#" class="search-tab" style="background: #f5f5f5; color: #333; padding: 10px 20px; border-radius: 5px; text-decoration: none;">Listing ID</a>
                        <a href="#" class="search-tab" style="background: #f5f5f5; color: #333; padding: 10px 20px; border-radius: 5px; text-decoration: none;">Address</a>
                        <a href="#" class="search-tab" style="background: #f5f5f5; color: #333; padding: 10px 20px; border-radius: 5px; text-decoration: none;">Map Search</a>
                    </div>
                `;
                
                // Clear the white box and add our search tabs
                whiteBox.innerHTML = '';
                whiteBox.appendChild(searchTabs);
                
                // Style the white box appropriately
                whiteBox.style.backgroundColor = 'white';
                whiteBox.style.borderRadius = '10px';
                whiteBox.style.boxShadow = '0 4px 10px rgba(0,0,0,0.1)';
                whiteBox.style.margin = '0 auto 20px';
                whiteBox.style.maxWidth = '900px';
                whiteBox.style.padding = '10px';
                whiteBox.style.position = 'relative';
                whiteBox.style.zIndex = '10';
                whiteBox.style.display = 'block';
                
                // Hook up event listeners for the tabs
                const tabs = whiteBox.querySelectorAll('.search-tab');
                tabs.forEach(tab => {
                    tab.addEventListener('click', function(e) {
                        e.preventDefault();
                        // Remove active class from all tabs
                        tabs.forEach(t => {
                            t.style.background = '#f5f5f5';
                            t.style.color = '#333';
                        });
                        // Add active class to clicked tab
                        this.style.background = '#1b4e1f';
                        this.style.color = 'white';
                    });
                });
            }
            
            // Set base URL with HTTPS
            const idxBaseURL = 'https://mlspalmbeach.lindaolsson.com';
            
            // Function to hide JSON data elements and video
            function hideConfigData() {
                // Hide JSON configuration data elements
                const configElements = [
                    '#IDX-pageSettings',
                    '#IDX-cczListRules',
                    '#IDX-mlsList',
                    '#IDX-defaultPriceData',
                    '#IDX-modifySearchData',
                    '#IDX-Subheader',
                    '#IDX-Subheader-Page'
                ];
                
                configElements.forEach(selector => {
                    const element = document.querySelector(selector);
                    if (element) {
                        element.style.display = 'none';
                        element.style.visibility = 'hidden';
                        element.style.height = '0';
                    }
                });
                
                // Hide any videos
                document.querySelectorAll('iframe[src*="youtube.com"]').forEach(iframe => {
                    iframe.style.display = 'none';
                    iframe.style.visibility = 'hidden';
                    iframe.style.height = '0';
                });
                
                // Hide raw JSON data that might be displayed
                document.querySelectorAll('pre, [id^="queryArray"], [class^="queryArray"]').forEach(el => {
                    el.style.display = 'none';
                    el.style.visibility = 'hidden';
                });
            }
            
            // Apply modern styling to form elements
            function modernizeFormElements() {
                // Add classes to buttons for styling
                document.querySelectorAll('#IDX-formSubmit, #IDX-formSubmit-bottom').forEach(btn => {
                    if (btn) {
                        btn.classList.add('modern-submit-btn');
                        btn.value = "SEARCH PROPERTIES";
                    }
                });
                
                // Style Reset buttons
                document.querySelectorAll('#IDX-resetBtn, #IDX-resetBtn-bottom').forEach(btn => {
                    if (btn) {
                        btn.classList.add('modern-reset-btn');
                        btn.value = "RESET";
                    }
                });
                
                // Add placeholder text to inputs
                const placeholders = {
                    'IDX-lp': 'Min Price',
                    'IDX-hp': 'Max Price',
                    'IDX-acres': 'Acres',
                    'IDX-sqft': 'Square Feet',
                    'IDX-add': 'Address, Neighborhood, Zip, MLS#',
                    'IDX-days': 'Days on Market'
                };
                
                Object.keys(placeholders).forEach(id => {
                    const input = document.getElementById(id);
                    if (input) {
                        input.placeholder = placeholders[id];
                    }
                });
                
                // Add title headers for sections
                const formSections = document.querySelectorAll('.IDX-row-content');
                if (formSections.length > 0) {
                    // Add main title if not present
                    if (!document.querySelector('.idx-form-title')) {
                        const mainTitle = document.createElement('h2');
                        mainTitle.className = 'idx-form-title';
                        mainTitle.textContent = 'Find Your Perfect Palm Beach Property';
                        mainTitle.style.cssText = 'font-family: var(--font-instrument); color: var(--brand-green); text-align: center; margin-bottom: 25px; font-size: 28px; font-weight: 400;';
                        formSections[0].parentNode.insertBefore(mainTitle, formSections[0]);
                    }
                }
                
                // Pre-select certain dropdown options
                // Property Type - select Residential (first option)
                const propertyTypeSelect = document.getElementById('IDX-pt');
                if (propertyTypeSelect && propertyTypeSelect.options.length > 0) {
                    // Find the "Residential" option - usually the first one
                    for (let i = 0; i < propertyTypeSelect.options.length; i++) {
                        if (propertyTypeSelect.options[i].value === '1' || 
                            propertyTypeSelect.options[i].text.includes('Residential')) {
                            propertyTypeSelect.selectedIndex = i;
                            break;
                        }
                    }
                    // If no specific "Residential" option found, select the first one
                    if (propertyTypeSelect.selectedIndex === -1) {
                        propertyTypeSelect.selectedIndex = 0;
                    }
                }
                
                // Bedrooms - select first option (Any)
                const bedroomsSelect = document.getElementById('IDX-bd');
                if (bedroomsSelect && bedroomsSelect.options.length > 0) {
                    bedroomsSelect.selectedIndex = 0; // Select first option
                }
                
                // Bathrooms - select first option (Any)
                const bathroomsSelect = document.getElementById('IDX-tb');
                if (bathroomsSelect && bathroomsSelect.options.length > 0) {
                    bathroomsSelect.selectedIndex = 0; // Select first option
                }
                
                // Filter cities to only show Palm Beach options
                const citySelect = document.getElementById('IDX-city');
                if (citySelect) {
                    // Store "Palm Beach" options and remove others
                    const options = Array.from(citySelect.options);
                    let palmBeachOptions = options.filter(option => 
                        option.text.toLowerCase().includes('palm beach') || 
                        option.value === '' || // Keep empty option
                        option.text === 'Any' || // Keep "Any" option
                        option.text === 'City' // Keep header option if present
                    );
                    
                    // Clear current options
                    while (citySelect.options.length > 0) {
                        citySelect.remove(0);
                    }
                    
                    // Re-add Palm Beach options
                    palmBeachOptions.forEach(option => {
                        citySelect.add(option);
                    });
                }
                
                // Make Select elements prettier with Select2 if available
                if (typeof idx.fn.select2 === 'function') {
                    idx('select.IDX-select').select2({
                        placeholder: "Select an option",
                        allowClear: true
                    });
                }
            }
            
            // Function to fix IDX search form behavior
            function fixIDXSearchForm() {
                console.log("Fixing IDX search form...");
                
                // Hide JSON configuration data and video
                hideConfigData();
                
                // Show search form wrapper
                const searchWrapper = document.getElementById('IDX-searchPageWrapper');
                if (searchWrapper) {
                    searchWrapper.style.display = 'block';
                    searchWrapper.style.visibility = 'visible';
                }
                
                // Show search form
                const searchForm = document.getElementById('IDX-searchForm');
                if (searchForm) {
                    searchForm.style.display = 'block';
                    searchForm.style.visibility = 'visible';
                    
                    // Ensure form action uses HTTPS
                    if (searchForm.action && searchForm.action.includes('http://')) {
                        searchForm.action = searchForm.action.replace('http://', 'https://');
                    }
                    
                    // Set up form submission handling
                    // Add event listener to submit buttons
                    const submitButtons = document.querySelectorAll('#IDX-formSubmit, #IDX-formSubmit-bottom');
                    submitButtons.forEach(button => {
                        button.addEventListener('click', function(e) {
                            console.log("Submit button clicked - marking as user initiated");
                            window.userInitiatedSubmit = true;
                        });
                    });
                    
                    // Override the form's submit event
                    searchForm.addEventListener('submit', function(e) {
                        console.log("Allowing form submission");
                            
                            // Ensure action is HTTPS
                            if (this.action && this.action.includes('http://')) {
                                this.action = this.action.replace('http://', 'https://');
                        }
                    });
                }
                
                // Fix all links to use HTTPS
                document.querySelectorAll('a[href^="http://mlspalmbeach"]').forEach(link => {
                    link.href = link.href.replace('http://', 'https://');
                });
                
                // Modernize the form elements
                modernizeFormElements();
            }
            
            // Direct approach to getting the search form via AJAX
            function loadSearchViaAjax() {
                console.log("Loading search form via AJAX...");
                var xhr = new XMLHttpRequest();
                xhr.onreadystatechange = function() {
                    if (xhr.readyState === 4) {
                        if (xhr.status === 200) {
                            console.log("Successfully loaded search form");
                            // Extract the search form from the response
                            var parser = new DOMParser();
                            var doc = parser.parseFromString(xhr.responseText, 'text/html');
                            
                            // Get the main IDX content
                            var idxMain = doc.getElementById('IDX-main');
                            if (idxMain) {
                                console.log("Found IDX-main content, updating container");
                                // Replace our container with the IDX content
                                document.getElementById('IDX-main').innerHTML = idxMain.innerHTML;
                                
                                // Hide configuration data and fix the form
                                setTimeout(function() {
                                    hideConfigData();
                                    fixIDXSearchForm();
                                    
                                    // Add a fallback if search form doesn't appear
                                    if (!document.querySelector('#IDX-searchForm') || 
                                        document.querySelector('#IDX-searchForm').offsetHeight === 0) {
                                        console.log("Search form not visible, switching to iframe fallback");
                                        document.getElementById('idx-form-container').innerHTML = '<iframe src="https://mlspalmbeach.lindaolsson.com/idx/search/advanced" style="width:100%; height:800px; border:none; overflow:hidden;"></iframe>';
                                    }
                                }, 100);
                            } else {
                                console.error("Could not find IDX-main in loaded content");
                                document.getElementById('idx-form-container').innerHTML = '<iframe src="https://mlspalmbeach.lindaolsson.com/idx/search/advanced" style="width:100%; height:800px; border:none; overflow:hidden;"></iframe>';
                            }
                        } else {
                            console.error("Failed to load search form: " + xhr.status);
                            document.getElementById('idx-form-container').innerHTML = '<iframe src="https://mlspalmbeach.lindaolsson.com/idx/search/advanced" style="width:100%; height:800px; border:none; overflow:hidden;"></iframe>';
                        }
                    }
                };
                
                // Important: First clear any existing content to prevent duplication
                document.getElementById('IDX-main').innerHTML = '';
                
                xhr.open('GET', idxBaseURL + '/idx/search/advanced', true);
                xhr.send();
            }
            
            // Remove any empty divs at page level
            document.querySelectorAll('body > div:empty').forEach(function(el) {
                el.style.display = 'none';
                el.style.height = '0';
            });
            
            // Load the search form content
            loadSearchViaAjax();
        });
    </script>
</head>
<body>
    <!-- Immediate script to remove white rectangle -->
    <script>
    // Run immediately to remove the white rectangle
    (function() {
        // Look for and remove any empty divs at the top of the page
        var bodyChildren = document.body.children;
        for (var i = 0; i < bodyChildren.length; i++) {
            var el = bodyChildren[i];
            if (el.tagName === 'DIV' && 
                (!el.textContent || el.textContent.trim() === '') &&
                (!el.children || el.children.length === 0 || 
                 (el.children.length === 1 && el.children[0].tagName === 'DIV' && !el.children[0].textContent))) {
                el.style.display = 'none';
                el.style.height = '0';
                break; // Just remove the first one we find
            }
        }
    })();
    </script>
    
    <!-- New Navbar from t.html -->
    <nav class="navbar">
        <!-- Logo -->
        <div class="logo-container">
            <a href="http://www.lindaolsson.com/">
                <img src="http://www.lindaolsson.com/flogo.svg" alt="Linda R. Olsson Inc., Realtor" class="logo">
            </a>
        </div>
        
        <!-- Desktop Menu -->
        <div class="nav-menu">
            <ul class="menu-items">
                <li class="nav-item">
                    <a href="http://www.lindaolsson.com/about-us" class="nav-link">
                        About <span class="dropdown-icon"></span>
                    </a>
                    <div class="dropdown">
                        <a href="http://www.lindaolsson.com/about-us" class="dropdown-link">ABOUT LINDA</a>
                        <a href="http://www.lindaolsson.com/our-team" class="dropdown-link">OUR TEAM</a>
                        <a href="http://www.lindaolsson.com/a-leader-in-palm-beach-real-estate" class="dropdown-link">A LEADER IN PALM BEACH REAL ESTATE</a>
                        <a href="http://www.lindaolsson.com/concierge-quality-realty-services" class="dropdown-link">CONCIERGE QUALITY REALTY SERVICES</a>
                        <a href="http://www.lindaolsson.com/community-involvement" class="dropdown-link">GIVING BACK...COMMUNITY INVOLVEMENT</a>
                        <a href="http://www.lindaolsson.com/palm-beach-florida-real-estate-news" class="dropdown-link">IN THE NEWS</a>
                    </div>
                </li>
                <li class="nav-item">
                    <a href="http://www.lindaolsson.com/search" class="nav-link">
                        Search For Homes <span class="dropdown-icon"></span>
                    </a>
                    <div class="dropdown">
                        <a href="http://www.lindaolsson.com/north-end-palm-beach-real-estate" class="dropdown-link">NORTH END HOMES</a>
                        <a href="http://www.lindaolsson.com/in-town-palm-beach-real-estate" class="dropdown-link">IN TOWN HOMES</a>
                        <a href="http://www.lindaolsson.com/estate-section" class="dropdown-link">ESTATE SECTION HOMES</a>
                        <a href="http://www.lindaolsson.com/in-town-townhomes" class="dropdown-link">IN-TOWN TOWNHOMES</a>
                        <a href="http://www.lindaolsson.com/in-town-condos" class="dropdown-link">IN-TOWN CONDOS</a>
                        <a href="http://www.lindaolsson.com/sloans-curve-south-to-manalapan" class="dropdown-link">SLOANS CURVE SOUTH TO MANALAPAN CONDOMINIUMS</a>
                        <a href="http://www.lindaolsson.com/luxury-palm-beach-condominium-co-op-buildings" class="dropdown-link">LUXURY PALM BEACH CONDOMINIUM AND CO-OP BUILDINGS</a>
                    </div>
                </li>
                <li class="nav-item">
                    <a href="http://www.lindaolsson.com/blog" class="nav-link">Blog</a>
                </li>
                <li class="nav-item">
                    <a href="http://www.lindaolsson.com/tax-benefits" class="nav-link">
                        Tax Benefits <span class="dropdown-icon"></span>
                    </a>
                    <div class="dropdown">
                        <a href="http://www.lindaolsson.com/global-reach-local-expertise" class="dropdown-link">GLOBAL REACH/LOCAL EXPERTISE</a>
                        <a href="http://www.lindaolsson.com/palm-beach-a-slice-of-paradise" class="dropdown-link">PALM BEACH – A SLICE OF PARADISE</a>
                        <a href="http://www.lindaolsson.com/buying-selling-hire-professional" class="dropdown-link">BUYING OR SELLING? HIRE A PROFESSIONAL!</a>
                        <a href="http://www.lindaolsson.com/4-essential-things-to-consider-when-buying-a-condo" class="dropdown-link">4 ESSENTIAL THINGS TO CONSIDER WHEN BUYING A CONDO</a>
                        <a href="http://www.lindaolsson.com/sellers-tips" class="dropdown-link">SELLERS TIPS</a>
                    </div>
                </li>
                <li class="nav-item">
                    <a href="http://www.lindaolsson.com/market-reports" class="nav-link">Market Reports</a>
                </li>
                <li class="nav-item">
                    <a href="http://www.lindaolsson.com/testimonials" class="nav-link">Testimonials</a>
                </li>
                <li class="nav-item">
                    <a href="http://www.lindaolsson.com/contact" class="nav-link">Contact</a>
                </li>
            </ul>
        </div>
        
        <!-- Mobile Menu Button -->
        <button class="mobile-menu-btn" onclick="toggleMobileMenu()">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg>
        </button>
    </nav>
    
    <!-- Mobile Menu -->
    <div id="mobile-menu" class="mobile-menu">
        <button class="mobile-menu-close" onclick="toggleMobileMenu()">✕</button>
        
        <div class="mobile-menu-sections">
            <!-- About Section -->
            <div class="mobile-section">
                <div class="mobile-section-title">About</div>
                <div class="mobile-links">
                    <a href="http://www.lindaolsson.com/about-us" class="mobile-link">ABOUT LINDA</a>
                    <a href="http://www.lindaolsson.com/our-team" class="mobile-link">OUR TEAM</a>
                    <a href="http://www.lindaolsson.com/a-leader-in-palm-beach-real-estate" class="mobile-link">A LEADER IN PALM BEACH REAL ESTATE</a>
                    <a href="http://www.lindaolsson.com/concierge-quality-realty-services" class="mobile-link">CONCIERGE QUALITY REALTY SERVICES</a>
                    <a href="http://www.lindaolsson.com/community-involvement" class="mobile-link">GIVING BACK...COMMUNITY INVOLVEMENT</a>
                    <a href="http://www.lindaolsson.com/palm-beach-florida-real-estate-news" class="mobile-link">IN THE NEWS</a>
                </div>
            </div>
            
            <!-- Search For Homes Section -->
            <div class="mobile-section">
                <div class="mobile-section-title">Search For Homes</div>
                <div class="mobile-links">
                    <a href="http://www.lindaolsson.com/north-end-palm-beach-real-estate" class="mobile-link">NORTH END HOMES</a>
                    <a href="http://www.lindaolsson.com/in-town-palm-beach-real-estate" class="mobile-link">IN TOWN HOMES</a>
                    <a href="http://www.lindaolsson.com/estate-section" class="mobile-link">ESTATE SECTION HOMES</a>
                    <a href="http://www.lindaolsson.com/in-town-townhomes" class="mobile-link">IN-TOWN TOWNHOMES</a>
                    <a href="http://www.lindaolsson.com/in-town-condos" class="mobile-link">IN-TOWN CONDOS</a>
                    <a href="http://www.lindaolsson.com/sloans-curve-south-to-manalapan" class="mobile-link">SLOANS CURVE SOUTH TO MANALAPAN CONDOMINIUMS</a>
                    <a href="http://www.lindaolsson.com/luxury-palm-beach-condominium-co-op-buildings" class="mobile-link">LUXURY PALM BEACH CONDOMINIUM AND CO-OP BUILDINGS</a>
                </div>
            </div>
            
            <!-- Tax Benefits Section -->
            <div class="mobile-section">
                <div class="mobile-section-title">Tax Benefits</div>
                <div class="mobile-links">
                    <a href="http://www.lindaolsson.com/global-reach-local-expertise" class="mobile-link">GLOBAL REACH/LOCAL EXPERTISE</a>
                    <a href="http://www.lindaolsson.com/palm-beach-a-slice-of-paradise" class="mobile-link">PALM BEACH – A SLICE OF PARADISE</a>
                    <a href="http://www.lindaolsson.com/buying-selling-hire-professional" class="mobile-link">BUYING OR SELLING? HIRE A PROFESSIONAL!</a>
                    <a href="http://www.lindaolsson.com/4-essential-things-to-consider-when-buying-a-condo" class="mobile-link">4 ESSENTIAL THINGS TO CONSIDER WHEN BUYING A CONDO</a>
                    <a href="http://www.lindaolsson.com/sellers-tips" class="mobile-link">SELLERS TIPS</a>
                </div>
            </div>
            
            <!-- Other Links -->
            <div class="mobile-section">
                <a href="http://www.lindaolsson.com/blog" class="mobile-link">Blog</a>
                <a href="http://www.lindaolsson.com/market-reports" class="mobile-link">Market Reports</a>
                <a href="http://www.lindaolsson.com/testimonials" class="mobile-link">Testimonials</a>
                <a href="http://www.lindaolsson.com/contact" class="mobile-link">Contact</a>
            </div>
        </div>
    </div>

    <!-- Main content in a centered wrapper -->
    <div class="idx-container-wrapper">
        <div id="idx-form-container">
            <!-- This is where the IDX search form will load -->
            <div id="IDX-main">
                    <!-- Content will be loaded here -->
                </div>
            </div>
        </div>
</body>
</html>